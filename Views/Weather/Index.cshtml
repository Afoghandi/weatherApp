@using Microsoft.AspNetCore.Mvc.ViewFeatures
@{
    ViewData["Title"] = "Weather Search";
}

<div class="flex items-center justify-center h-screen bg-gradient-to-br from-blue-400 to-purple-600">
    <div class="bg-white text-gray-800 p-8 rounded-lg shadow-lg w-96">
        <h1 class="text-2xl font-bold mb-6 text-center text-primary">Weather Search</h1>


    <form method="post" asp-action="GetWeather" >
            <label for="city" class="block mb-2 font-semibold">Enter City Name</label>
            <input type="text" name="city" placeholder="Enter city name" class="w-full p-3 border rounded mb-6 focus:outline-none focus:ring-2 focus:ring-primary" />
            <button type="submit" class="w-full !bg-primary !text-white py-2 px-4 rounded hover:bg-blue-600 focus:ring-2 focus:ring-blue-400 focus:outline-none">Get Weather</button>
            <button id="use-location" class="w-full bg-secondary text-primary py-2 px-4 rounded hover:bg-gray-300 mt-4">
                Use My Location
            </button>
    </form>
        <script>
            document.getElementById('use-location').addEventListener('click', function () {
                
                navigator.geolocation.getCurrentPosition(function (position) {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    window.location.href = `/Weather/GetWeatherByLocation?lat=${lat}&lon=${lon}`;
                });
            });
        </script>
    </div>
</div>
